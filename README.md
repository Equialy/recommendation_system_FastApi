# Сервис Рекомендаций

Этот проект представляет собой **систему рекомендаций**, разработанную на основе **FastAPI**. Система анализирует историю покупок пользователей и предоставляет рекомендации товаров на основе матрицы совместной встречаемости и популярности среди других пользователей.

---

## Возможности

- **Анализ истории покупок**: Обрабатывает покупки пользователей для построения матрицы совместной встречаемости.
- **Генерация рекомендаций**: Предоставляет персонализированные рекомендации товаров для пользователей.
- **Асинхронная архитектура**: Эффективно обрабатывает запросы к базе данных и генерацию рекомендаций.
- **Поддержка баз данных**: Использует PostgreSQL для хранения данных о покупках и рекомендациях.
- **Модульная архитектура**: Чистое разделение логики на репозитории и сервисы.

---

## Установка

### Требования
- Python 3.10+
- PostgreSQL
- Виртуальное окружение (опционально)

### Клонирование репозитория
```
git clone https://github.com/your-username/recommendation-service.git
cd recommendation-service

```
Настройка окружения
1. Создайте виртуальное окружение:
```

python -m venv venv
source venv/bin/activate  # В Windows: venv\Scripts\activate
```

2. Установите зависимости:
```
pip install -r requirements.txt
```
3. Создайте файл .env в корневой папке проекта со следующим содержимым:
```
DATABASE_URL=postgresql+asyncpg://user:password@localhost/dbname
```
4. Применение миграций базы данных:
```
alembic upgrade head
```
6. Запуск сервера:
```
uvicorn src.main:app --reload
```

Использование
Генерация рекомендаций для пользователя
Отправьте POST-запрос на /recommendations/generate_recommendations с ID пользователя:

```curl -X POST "http://127.0.0.1:8000/recommendations/generate_recommendations?user_id=<USER_ID>"
```

API Эндпоинты
POST /recommendations/generate_recommendations: Генерация рекомендаций для пользователя.
GET /purchases: Получение всех данных о покупках.
POST /purchases: Добавление новой записи о покупке.
GET /recommendations: Просмотр сохранённых рекомендаций.